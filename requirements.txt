# PROTOCOL 6.0: LIGHTWEIGHT PRODUCTION REQUIREMENTS
# Memory-optimized for 512MB RAM limit
# NO HEAVY ML LIBRARIES - PRODUCTION ONLY

# =============================================================================
# 🚀 CORE WEB FRAMEWORK (Essential - ~8MB total)
# =============================================================================
fastapi==0.104.1             # Modern async web framework (~2MB)
uvicorn==0.24.0               # ASGI server (~1MB)
python-dotenv==1.0.0          # Environment configuration (~100KB)
pydantic>=2.5.3,<3.0.0       # Data validation (~3MB)
python-multipart==0.0.20     # File upload support (~200KB)

# =============================================================================
# 🧠 GROQ LPU HYPER-SPEED REASONING (Essential - ~5MB)
# =============================================================================
groq>=0.11.0                 # Latest Groq Python client (~5MB)

# =============================================================================
# 🗄️ MONGODB DATABASE (Memory Optimized - ~8MB total)
# =============================================================================
pymongo>=4.6.0               # Official MongoDB driver (~6MB)
motor>=3.3.0                 # Async MongoDB driver (~2MB)

# =============================================================================
# 🌐 HTTP CLIENT (Essential - ~3MB)
# =============================================================================
httpx>=0.26.0                # Async HTTP client (~3MB)

# =============================================================================
# 📄 PDF PROCESSING (Ultra-Lightweight)
# =============================================================================
PyPDF2==3.0.1               # Primary lightweight PDF parsing
pdfplumber==0.10.3           # Secondary extraction
# PyMuPDF (fitz) is OPTIONAL; not installed by default to stay light

# =============================================================================
# 📊 MINIMAL COMPUTATION
# =============================================================================
# No heavy numeric deps required (pure-Python BM25 retriever)

# =============================================================================
# 🧠 OPTIONAL L2 CACHE (Redis) - small footprint
# =============================================================================
redis>=5.0.0                # Async Redis client (aioredis via redis.asyncio)

# =============================================================================
# 🚫 FORBIDDEN LIBRARIES - DO NOT INCLUDE IN PRODUCTION
# =============================================================================
# torch                      # ~800MB - FORBIDDEN
# transformers               # ~200MB - FORBIDDEN  
# sentence-transformers      # ~500MB - FORBIDDEN
# scikit-learn              # ~100MB - FORBIDDEN
# torchvision               # ~300MB - FORBIDDEN
# tensorflow                # ~400MB - FORBIDDEN

# =============================================================================
# 📈 ESTIMATED PRODUCTION MEMORY USAGE
# =============================================================================
# Core FastAPI + Uvicorn:        ~8MB
# Groq client:                   ~5MB
# MongoDB drivers:               ~8MB
# HTTP client:                   ~3MB
# PDF parsers:                   ~3MB
# NumPy:                         ~5MB
# Python runtime overhead:       ~15MB
# Application code:              ~5MB
# Buffer for operations:         ~20MB
# =====================================
# TOTAL ESTIMATED:              ~72MB
# 
# TARGET: <100MB (7x under 512MB limit)
# SAFETY MARGIN: 440MB available for scaling
